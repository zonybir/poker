{"version":3,"sources":["webpack:///webpack/bootstrap b332cf1012d0b3ef07e6","webpack:///./src/entry.js","webpack:///./src/reducers/index.jsx","webpack:///./src/reducers/sec.jsx","webpack:///./src/reducers/socket.jsx","webpack:///./src/reducers/re_pub.jsx","webpack:///./src/routes.jsx","webpack:///./src/containers/main.jsx","webpack:///./src/actions/hall.jsx","webpack:///./src/actions/socket.jsx","webpack:///./src/components/userPoker.jsx","webpack:///./src/components/pokeritem.jsx","webpack:///./src/containers/index.jsx","webpack:///./src/containers/login.jsx","webpack:///./src/actions/ac_pub.jsx","webpack:///./src/reducers/re_hall_chat.jsx","webpack:///./src/containers/hall_chat.jsx","webpack:///./src/actions/ac_hall_chat.jsx"],"names":["Redux","createStore","applyMiddleware","ReactRedux","Provider","ReactRouter","Router","Route","hashHistory","browserHistory","ReactRouterRedux","syncHistoryWithStore","store","ReduxThunk","default","history","ReactDOM","render","document","getElementById","combineReducers","routerReducer","routing","reducer","Hall","Socket","Pub","HallChat","initState","hallList","state","action","type","Object","assign","data","socket","statu","addHomeStatu","homeId","pokerList","key","status","ls","userInfo","IndexRoute","connect","Index","props","getLeven","dispatch","loginStatus","location","hash","socketStatu","length","map","vp","kp","handleGetLeven","bind","v","k","setState","React","Component","selectState","ownProps","getState","get","then","d","list","joinGame","player","InitSocket","io","host","console","log","on","AddPlayHome","emit","id","getPoker","poker","sortPoker","getLevePoker","playerIndex","AllP","push","WillSentPoker","index","sentPokerList","callBack","AllPoker","thisPoker","canSent","checkPokerRule","i","len","splice","newPoker","pokerSort","a","b","split","value","color","arr","n","sort","outList","inPoker","every","indexOf","rule","defPoker","diffrPokerNum","sameMax","sureRule","outPokerLen","Math","max","apply","isSing","isOrder","isDoub","isDoubOrder","AAAX","AAABBBX","AAAlist","withPokerList","withPokerNum","p","AAAlen","factWithPokerNum","AAAA","diffrentPokerListNum","diffrentPokerNum","alert","UserPoker","sentPoker","nextProps","handleSelectPokerItem","handleSentPoker","newSentPoker","hashV","PokerItem","willSent","pokerValueA","pokerValue","isWillSent","vi","ki","left","top","selectPokerItem","text","pokerColor","pokerIndex","name","LoginPage","handleLogin","refs","pwd","password","Login","post","msg","flag","appendChatInfo","isSelft","user_chat_info","handleSentMeg","dom","d_id","MsgContainer","create_dom","time","info","appendChild","scrollTop","Date","getTime","hallChat","hallDispatch","InitHallChat","setChatInfo","SentMsg","get_date"],"mappings":"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","file":"../public/script/entry.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b332cf1012d0b3ef07e6","import storeData from './reducers'\r\nimport Routes from './routes'\r\n\r\nconst {createStore,applyMiddleware} = Redux,\r\n    {Provider} = ReactRedux,\r\n    {Router,Route,hashHistory,browserHistory} = ReactRouter,\r\n    {syncHistoryWithStore} = ReactRouterRedux,\r\n\r\n    store = createStore(\r\n        storeData,\r\n        applyMiddleware(ReduxThunk.default)\r\n    ),\r\n\r\n    history = syncHistoryWithStore(hashHistory,store);\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <Router history={history} routes={Routes} />\r\n    </Provider>,\r\n    document.getElementById('zonybir')\r\n)\n\n\n// WEBPACK FOOTER //\n// ./src/entry.js","import Hall from './sec'\r\nimport Socket from './socket'\r\nimport Pub from './re_pub'\r\nimport HallChat from './re_hall_chat'\r\nconst {combineReducers} = Redux,\r\n    {routerReducer} = ReactRouterRedux,\r\n    routing=routerReducer,\r\n\r\n    reducer = combineReducers({\r\n        Hall,\r\n        Socket,\r\n        Pub,\r\n        HallChat,\r\n        routing\r\n    })\r\nexport default reducer;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/index.jsx","\r\nconst initState={\r\n    hallList:[]\r\n}\r\n\r\nfunction Hall(state=initState,action){\r\n    switch(action.type){\r\n        case 'hallList':{\r\n            return Object.assign({},state,{\r\n                hallList:action.data\r\n            })\r\n        }\r\n        default:{\r\n            return state\r\n        }\r\n    }\r\n}\r\nexport default Hall;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/sec.jsx","\r\nconst initState={\r\n    socket:{},\r\n    statu:0,\r\n    addHomeStatu:0,\r\n    homeId:0,\r\n    pokerList:[]\r\n}\r\n\r\nfunction Hall(state=initState,action){\r\n    switch(action.type){\r\n        case 'setConnectName':{\r\n            return Object.assign({},state,{\r\n                [action.key]:action.socket\r\n            })\r\n        }\r\n        case 'soket_connectHome':{\r\n            return Object.assign({},state,{\r\n                statu:action.statu\r\n            })\r\n        }\r\n        case 'soket_addHome':{\r\n            return Object.assign({},state,{\r\n                addHomeStatu:action.statu,\r\n                homeId:action.homeId\r\n            })\r\n        }\r\n        case 'setPoker':{\r\n            return Object.assign({},state,{\r\n                pokerList:action.pokerList\r\n            })\r\n        }\r\n        default:{\r\n            return state\r\n        }\r\n    }\r\n}\r\nexport default Hall;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/socket.jsx","\r\nconst initState={\r\n    status:ls('isLogin'),\r\n    userInfo:ls('userInfo')||{}\r\n}\r\n\r\nfunction Pub(state=initState,action){\r\n    switch(action.type){\r\n        case 'Login':{\r\n            return Object.assign({},state,{\r\n                status:action.status,\r\n                userInfo:action.userInfo\r\n            })\r\n        }\r\n        default:{\r\n            return state\r\n        }\r\n    }\r\n}\r\nexport default Pub;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/re_pub.jsx","import Main from './containers/main'\r\nimport Index from './containers/index'\r\nimport Login from './containers/login'\r\nconst {Router,Route,IndexRoute}=ReactRouter;\r\nexport default\r\n\r\n<Router>\r\n    <Router path='index' component={Index}/>\r\n    <Router path='login' component={Login} />\r\n\t<Route path=\"*\" component={Main} />\r\n</Router>\n\n\n// WEBPACK FOOTER //\n// ./src/routes.jsx","const {connect} = ReactRedux;\r\nimport {\r\n    hallList,\r\n    joinGame\r\n} from '../actions/hall';\r\nimport {\r\n    InitSocket,\r\n    AddPlayHome,\r\n    getPoker,\r\n    getLevePoker\r\n} from '../actions/socket';\r\n\r\n\r\nimport UserPoker from '../components/userPoker';\r\nclass Index extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            getLeven:0\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        //InitSocket(this.props.dispatch);\r\n        this.props.dispatch(hallList());\r\n        let {loginStatus,userInfo}=this.props;\r\n        if(!loginStatus) location.hash='login';\r\n    }\r\n    render(){\r\n        return <div>main</div>;\r\n        let {hallList,dispatch,socketStatu,addHomeStatu,homeId,pokerList,\r\n                loginStatus,userInfo\r\n            }=this.props;\r\n        if(homeId && addHomeStatu){\r\n            return(\r\n                <div id='index'>\r\n                    <h4>addHome {homeId}</h4>\r\n                    {\r\n                        pokerList.length<=0?\r\n                        <p onClick={()=>{getPoker(dispatch)}}>click to get poker</p>\r\n                        :\r\n                        pokerList.map((vp,kp)=>{\r\n                            return <UserPoker kp={kp} vp={vp} key={'user_play_'+kp} getLeven={this.state.getLeven} callBack={this.handleGetLeven.bind(this)} dispatch={dispatch}/>\r\n                        })\r\n                    }\r\n                    \r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <div id='index'>\r\n                <h1>IndexPage</h1>\r\n                <h2>{socketStatu?'ok':'fail'}</h2>\r\n                {\r\n                    hallList.map((v,k)=>{\r\n                        return(\r\n                            <div onClick={()=>{AddPlayHome(dispatch,v)}} key={'hall_home_'+k}>\r\n                                {v}\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n    handleGetLeven(kp){\r\n        this.setState({\r\n            getLeven:1\r\n        },()=>{\r\n            this.props.dispatch(getLevePoker(kp))\r\n        })\r\n    }\r\n}\r\n\r\nconst selectState=(state,ownProps)=>{\r\n    return{\r\n        hallList:state.Hall.hallList,\r\n        socketStatu:state.Socket.statu,\r\n        addHomeStatu:state.Socket.addHomeStatu,\r\n        homeId:state.Socket.homeId,\r\n        pokerList:state.Socket.pokerList,\r\n\r\n        loginStatus:state.Pub.status,\r\n        userInfo:state.Pub.userInfo\r\n    }\r\n}\r\n\r\nexport default connect(selectState)(Index)\n\n\n// WEBPACK FOOTER //\n// ./src/containers/main.jsx","export const hallList=()=>{\r\n    return (dispatch,getState)=>{\r\n        get('/hall/getlist')\r\n        .then((d)=>{\r\n            dispatch({\r\n                type:'hallList',\r\n                data:d.data.list\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport const joinGame=(homeId)=>{\r\n    return (dispatch,getState)=>{\r\n        \r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/actions/hall.jsx","var player={};\r\nexport const InitSocket=(dispatch)=>{\r\n    player = io.connect('ws://'+location.host+'/index');\r\n    console.log(player);\r\n    player.on('connectedOk',function(d){\r\n        dispatch({\r\n            type:'soket_connectHome',\r\n            statu:d.statu\r\n        })\r\n    })\r\n}\r\n\r\nexport const AddPlayHome=(dispatch,homeId)=>{\r\n    player.emit('addPlayHome',{\r\n        id:homeId\r\n    })\r\n    player.on('addHomeStatu',(d)=>{\r\n        dispatch({\r\n            type:'soket_addHome',\r\n            statu:d.statu,\r\n            homeId:d.id\r\n        })\r\n    })\r\n}\r\n\r\nexport const getPoker=(dispatch)=>{\r\n    player.emit('getPoker');\r\n    player.on('getPoker',(d)=>{\r\n        let poker=sortPoker(d.poker);\r\n        console.log(poker);\r\n        dispatch({\r\n            type:'setPoker',\r\n            pokerList:poker\r\n        })\r\n    })\r\n}\r\n\r\nexport const getLevePoker=(playerIndex)=>{\r\n    return (dispatch,getState)=>{\r\n        player.emit('getLevePoker');\r\n        player.on('getLevePoker',(d)=>{\r\n            let AllP=getState().Socket.pokerList,\r\n                poker;\r\n            console.log(d.data);\r\n            d.data.map((v,k)=>{\r\n                AllP[playerIndex].push(v);\r\n            })\r\n            poker=sortPoker(AllP);\r\n            dispatch({\r\n                type:'setPoker',\r\n                pokerList:poker\r\n            })\r\n        })\r\n    }\r\n    \r\n}\r\n\r\nexport const WillSentPoker=(index,sentPokerList,callBack)=>{\r\n    return (dispatch,getState)=>{\r\n        let AllPoker=getState().Socket.pokerList,\r\n            thisPoker=AllPoker[index],\r\n            canSent=checkPokerRule(thisPoker,sentPokerList);\r\n        //console.log(canSent);\r\n        callBack(canSent);\r\n        if(!canSent) return;\r\n        sentPokerList.map((v,k)=>{\r\n            for(let i=0,len=thisPoker.length;i<len;i++){\r\n                if(thisPoker[i] == v){\r\n                    thisPoker.splice(i,1);\r\n                    break;\r\n                }\r\n            }\r\n        })\r\n        AllPoker[index]=thisPoker;\r\n        let newPoker=[];\r\n        AllPoker.map((v,k)=>{\r\n            if(k==index) newPoker.push(thisPoker);\r\n            else newPoker.push(v);\r\n        })\r\n        dispatch({\r\n            type:'setPoker',\r\n            pokerList:newPoker\r\n        })\r\n    }\r\n}\r\n\r\nfunction pokerSort(a,b){\r\n    a=a.split('-');\r\n    b=b.split('-');\r\n    a[1]==2?a[1]=33:'';\r\n    b[1]==2?b[1]=33:'';\r\n    let value=a[1]-b[1],\r\n        color=b[0]-a[0];\r\n    if(value==0) return color;\r\n    return value;\r\n    \r\n}\r\nfunction sortPoker(arr){\r\n    let n=[[],[],[]];\r\n    arr.map((v,k)=>{\r\n        n[k]=v.sort(pokerSort);\r\n    })\r\n    return n;\r\n}\r\n\r\nfunction checkPokerRule(poker,outList){\r\n    console.log(outList);\r\n    let inPoker=outList.every((v)=> {return poker.indexOf(v) != -1;})\r\n    if(!inPoker) return false;// hack  without in this poker \r\n    let rule={defPoker:[]};\r\n    outList.map((v,k)=>{\r\n        v=v.split('-')[1];\r\n        if(!rule[v]){\r\n            rule[v]=1;\r\n            rule.defPoker.push(v-0);\r\n        }\r\n        else rule[v]++;\r\n    })//count diffrent poker item in rule,and push into defPoker\r\n    rule.defPoker=rule.defPoker.sort((a,b)=>{return a-b;});// sort defPoker\r\n    let diffrPokerNum=[],// diffrent poker num list\r\n        sameMax=1,\r\n        sureRule=false,\r\n        outPokerLen=rule.defPoker.length;\r\n    rule.defPoker.map((v,k)=>diffrPokerNum.push(rule[v]));\r\n    sameMax=Math.max.apply(this,diffrPokerNum);// get max diffrent poker num \r\n    if(sameMax==1){//A       eg:A,ABCDE...\r\n        let isSing=false;\r\n        if(outPokerLen==1) isSing=true;\r\n        let isOrder=true;\r\n        if(outPokerLen>4){\r\n            for(let i=0,len=outPokerLen-1;i<len;i++){//sure order by poker;\r\n                if(rule.defPoker[i]+1 != rule.defPoker[i+1]) isOrder=false;\r\n                if(rule.defPoker[i] == 2 || rule.defPoker[i]==88) isOrder=false;// can not include 2 and king;\r\n            }\r\n        }else isOrder=false;\r\n        sureRule=isSing?isSing:isOrder;\r\n    }else\r\n    if(sameMax==2){//AA     eg:AA,AABBCC...\r\n        let isDoub=false;\r\n        if(outPokerLen==1) isDoub=true;\r\n        let isDoubOrder=true;\r\n        if(outPokerLen >2){\r\n            for(let i=0,len=outPokerLen-1;i<len;i++){//sure order by poker;\r\n                if(rule.defPoker[i]+1 != rule.defPoker[i+1]) isDoubOrder=false;\r\n                if(rule.defPoker[i] == 2 || rule.defPoker[i]==88) isDoubOrder=false;// can not include 2 and king;\r\n                if(rule[rule.defPoker[i+1]] !=2) isDoubOrder=false;\r\n            }\r\n            if(rule[rule.defPoker[0]] != 2 ) isDoubOrder=false;\r\n        }else isDoubOrder=false;\r\n        sureRule=isDoub?isDoub:isDoubOrder;\r\n    }else\r\n    if(sameMax==3){//AAA     eg:AAAB,AAABB,AAABBB,     AAABBBCC,AAABBBCD\r\n        let AAAX=false,AAABBBX=true;\r\n        if(outPokerLen<=2) AAAX=true;\r\n        else{\r\n            let AAAlist=[],\r\n                withPokerList=[],\r\n                withPokerNum={};\r\n            for(let i=0,len=outPokerLen,p=0;i<len;i++){\r\n                p=rule.defPoker[i];\r\n                if(rule[p] ==3 ) AAAlist.push(p);\r\n                else {\r\n                    withPokerNum[p]=rule[p];\r\n                    withPokerList.push(p);\r\n                }\r\n            }\r\n            let len=AAAlist.length;\r\n            if(len<=1) AAABBBX=false;\r\n            else{//min same poker is AAABBB\r\n                for(let i=0,AAAlen=len-1;i<AAAlen;i++){\r\n                    if(AAAlist[i]+1 != AAAlist[i+1]) AAABBBX=false;// is not order by XXX\r\n                }\r\n            }\r\n            if(AAABBBX){// checke with poker\r\n                //let bt=outPokerLen-len;\r\n                let factWithPokerNum=0;\r\n                withPokerList.map((v,k)=>{\r\n                    factWithPokerNum+=withPokerNum[v];\r\n                });\r\n                if(factWithPokerNum != len){//same poker num != withPokerNum\r\n                    if(factWithPokerNum == 2*len){\r\n                        withPokerList.map((v,k)=>{\r\n                            if(withPokerNum[v] != 2) AAABBBX=false;\r\n                        })\r\n                    }else AAABBBX=false;\r\n                }\r\n            }\r\n        };\r\n        sureRule=AAAX?AAAX:AAABBBX;\r\n    }else\r\n    if(sameMax==4){//AAAA      AAAABC   AAAABB \r\n        let AAAA=false;\r\n        if(outPokerLen == 1)  AAAA=true;\r\n        else{\r\n            let diffrentPokerListNum=0,\r\n                diffrentPokerNum=0;\r\n            rule.defPoker.map((v,k)=>{\r\n                if(rule[v] != 4) {\r\n                    diffrentPokerListNum++;\r\n                    diffrentPokerNum+=(rule[v]-0);\r\n                }\r\n            });\r\n            if(diffrentPokerListNum == 1 && diffrentPokerNum==2) AAAA=true;\r\n            else if(diffrentPokerListNum ==2 && (diffrentPokerNum==2 || diffrentPokerNum==4)) AAAA=true;\r\n        }\r\n        //need more think.    eg  AAABBBBX  AAABBBCCCC AAABBBBCC AAABBBCCCDDDEEEE\r\n        if(outPokerLen>2){\r\n            alert('need more think.\\neg:\\nAAABBBBX  AAABBBCCCC AAABBBBCC AAABBBCCCDDDEEEE')\r\n            let AAAlist=[];\r\n            rule.defPoker.map((v,k)=>{\r\n                if(rule[v] >= 3){\r\n\r\n                }\r\n            })\r\n        }\r\n        sureRule=AAAA;\r\n    }\r\n    //console.log(sureRule);\r\n    return sureRule;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/actions/socket.jsx","import {\r\n    getLevePoker,\r\n    WillSentPoker\r\n} from '../actions/socket';\r\nimport PokerItem from './pokeritem';\r\nexport default class UserPoker extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            sentPoker:[]\r\n        }\r\n    }\r\n    componentWillReceiveProps(nextProps){\r\n        this.setState({\r\n            sentPoker:[]\r\n        })\r\n    }\r\n    render(){\r\n        let {dispatch,vp,kp,getLeven}=this.props;\r\n        if(vp.length<=0){\r\n        alert('you Win');\r\n            return(\r\n                <div className='playerPoker'>\r\n                    you Win\r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <div className='playerPoker'>\r\n                <h1>角色：{kp+1}</h1>\r\n                <div className='pokerContent'>\r\n                    {\r\n                        vp.map((v,k)=>{\r\n                            return <PokerItem k={k} v={v} key={\"poker_item_\"+k} willSent={this.state.sentPoker} selectPokerItem={this.handleSelectPokerItem.bind(this)}/>\r\n                        })\r\n                    }\r\n                </div>\r\n                {\r\n                    getLeven?\"\":\r\n                    <h2 onClick={()=>{this.props.callBack(kp)}}>得到地主</h2>\r\n                }\r\n                <p onClick={this.handleSentPoker.bind(this,kp)}>出牌</p>\r\n            </div>\r\n        )\r\n    }\r\n    handleSentPoker(index){\r\n        let {sentPoker}=this.state,\r\n            {dispatch}=this.props;\r\n        if(sentPoker.length<=0){\r\n            alert('请选择你要出的牌');\r\n            return;\r\n        }\r\n        dispatch(WillSentPoker(index,sentPoker,(d)=>{\r\n            console.log(d);\r\n        }))\r\n\r\n    }\r\n    handleSelectPokerItem(v){\r\n        \r\n        let {sentPoker}=this.state,newSentPoker=[],hashV=0;;\r\n        //console.log(sentPoker);\r\n        for(let i=0,len=sentPoker.length;i<len;i++){\r\n            //console.log(i);\r\n            if(sentPoker[i] != v) newSentPoker.push(sentPoker[i]);\r\n            else hashV=1;\r\n        }\r\n        hashV?'':newSentPoker.push(v);\r\n        //console.log(newSentPoker)\r\n        this.setState({\r\n            sentPoker:newSentPoker\r\n        })\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/userPoker.jsx","export default class PokerItem extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    render(){\r\n        let {v,k,willSent}=this.props;\r\n        let pokerValueA=this.pokerValue(v),isWillSent=0;\r\n        willSent.map((vi,ki)=>{\r\n            if(v==vi) isWillSent=1\r\n        })\r\n        return(\r\n            <div className={'pokerItem '+pokerValueA[0].color}  style={{left:30*k+'px',top:isWillSent?'0':'20px'}} onClick={()=>{this.props.selectPokerItem(v)}}>\r\n                <span className='pokerValue'>{pokerValueA[1]}</span>\r\n                <span className='pokerColortext'>{pokerValueA[0].text}</span>\r\n            </div>\r\n        )\r\n    }\r\n    pokerColor(v){\r\n        switch(v-0){\r\n            case 1: return {text:'黑桃',color:'blank'};\r\n            case 2: return {text:'红桃',color:'red'};\r\n            case 3: return {text:'梅花',color:'flower'};\r\n            case 4: return {text:'方块',color:'area'};\r\n            case 5: return {text:'小王',color:'king_s'};\r\n            case 6: return {text:'大王',color:'king'};\r\n        }\r\n    }\r\n    pokerIndex(v){\r\n        v-=0;\r\n        return v==11?'J':v==12?'Q':v==13?'K':v==14?'A':v==88?'王':v;\r\n    }\r\n    pokerValue(v){\r\n        v=v.split('-');\r\n        return [this.pokerColor(v[0]),this.pokerIndex(v[1])];\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/pokeritem.jsx","const {connect} = ReactRedux;\r\nimport {\r\n    hallList,\r\n    joinGame\r\n} from '../actions/hall';\r\nimport {\r\n    InitSocket,\r\n    AddPlayHome,\r\n    getPoker,\r\n    getLevePoker\r\n} from '../actions/socket';\r\n\r\n\r\nimport UserPoker from '../components/userPoker';\r\nimport HallChat from './hall_chat';\r\nclass Index extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            getLeven:0\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        InitSocket(this.props.dispatch);\r\n        this.props.dispatch(hallList());\r\n        let {loginStatus,userInfo}=this.props;\r\n        if(!loginStatus) location.hash='login';\r\n    }\r\n    render(){\r\n        let {hallList,dispatch,socketStatu,addHomeStatu,homeId,pokerList,\r\n                loginStatus,userInfo\r\n            }=this.props;\r\n        console.log(loginStatus);\r\n        console.log(userInfo);\r\n        \r\n        if(homeId && addHomeStatu){\r\n            return(\r\n                <div id='index'>\r\n                    <h4>addHome {homeId}</h4>\r\n                    {\r\n                        pokerList.length<=0?\r\n                        <p onClick={()=>{getPoker(dispatch)}}>click to get poker</p>\r\n                        :\r\n                        pokerList.map((vp,kp)=>{\r\n                            return <UserPoker kp={kp} vp={vp} key={'user_play_'+kp} getLeven={this.state.getLeven} callBack={this.handleGetLeven.bind(this)} dispatch={dispatch}/>\r\n                        })\r\n                    }\r\n                    \r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <div id='hall'>\r\n                <div className='header'>\r\n                    <div className='container'>\r\n                        <div className='left'>ZONYBIR</div>\r\n                        <div className='right'><span>Wellcome {userInfo.name}</span></div>\r\n                    </div>\r\n                    \r\n                </div>\r\n                <h2>{socketStatu?'ok':'fail'}</h2>\r\n                {\r\n                    hallList.map((v,k)=>{\r\n                        return(\r\n                            <div onClick={()=>{AddPlayHome(dispatch,v)}} key={'hall_home_'+k}>\r\n                                {v}\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n                <HallChat dispatch={dispatch} />\r\n            </div>\r\n        )\r\n    }\r\n    handleGetLeven(kp){\r\n        this.setState({\r\n            getLeven:1\r\n        },()=>{\r\n            this.props.dispatch(getLevePoker(kp))\r\n        })\r\n    }\r\n}\r\n\r\nconst selectState=(state,ownProps)=>{\r\n    return{\r\n        hallList:state.Hall.hallList,\r\n        socketStatu:state.Socket.statu,\r\n        addHomeStatu:state.Socket.addHomeStatu,\r\n        homeId:state.Socket.homeId,\r\n        pokerList:state.Socket.pokerList,\r\n\r\n        loginStatus:state.Pub.status,\r\n        userInfo:state.Pub.userInfo\r\n    }\r\n}\r\n\r\nexport default connect(selectState)(Index)\n\n\n// WEBPACK FOOTER //\n// ./src/containers/index.jsx","const {connect} = ReactRedux;\r\nimport {\r\n    Login\r\n} from '../actions/ac_pub';\r\n\r\nclass LoginPage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    render(){\r\n        let {dispatch,status}=this.props;\r\n        return(\r\n            <div id='login'>\r\n                <div className='login_content'>\r\n                <input type='text' placeholder='your name' ref='name' /><br />\r\n                <input type='password' placeholder='your password' ref='password' /><br />\r\n                <input type='submit' value='sign in' onClick={()=>this.handleLogin()}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    handleLogin(){\r\n        let name=this.refs.name.value,\r\n            pwd=this.refs.password.value;\r\n        if(name && pwd) this.props.dispatch(Login(name,pwd));\r\n        else alert('请填写用户名和密码');\r\n    }\r\n}\r\n\r\nconst selectState=(state,ownProps)=>{\r\n    return{\r\n        status:state.Pub.status\r\n    }\r\n}\r\n\r\nexport default connect(selectState)(LoginPage)\n\n\n// WEBPACK FOOTER //\n// ./src/containers/login.jsx","export const Login=(name,password)=>{\r\n    return (dispatch,getState)=>{\r\n        post('/pub/login',{\r\n            name:name,\r\n            password:password\r\n        })\r\n        .then((d)=>{\r\n            ls('isLogin',1)('userInfo',d.data);\r\n            dispatch({\r\n                type:'Login',\r\n                status:d.status,\r\n                userInfo:d.data\r\n            })\r\n            location.hash='index';\r\n        })\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/actions/ac_pub.jsx","\r\nconst initState={\r\n    status:0,\r\n    msg:{\r\n        flag:0,\r\n        data:{}\r\n    }\r\n}\r\n\r\nfunction HallChat(state=initState,action){\r\n    switch(action.type){\r\n        case 'hallChat':{\r\n            return Object.assign({},state,{\r\n                status:action.status,\r\n                msg:action.msg\r\n            })\r\n        }\r\n        default:{\r\n            return state\r\n        }\r\n    }\r\n}\r\nexport default HallChat;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/re_hall_chat.jsx","const {connect} = ReactRedux;\r\nimport {\r\n    InitHallChat,\r\n    SentMsg\r\n} from '../actions/ac_hall_chat'\r\nclass HallChat extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    componentDidMount(){\r\n        let {status,dispatch}=this.props;\r\n        if(!status) dispatch(InitHallChat(dispatch));\r\n    }\r\n    componentWillReceiveProps(nextProps){\r\n        if(this.props.flag != nextProps.flag){\r\n            this.appendChatInfo(nextProps.msg);\r\n            nextProps.msg.isSelft ? this.refs.user_chat_info.value='':'';\r\n        }\r\n    }\r\n    render(){\r\n        return(\r\n            <div className='hall_chat_fixed'>\r\n                <div className='chat_containter' id='chat_main_box'>\r\n                    <ul className='chat_content' id='chat_containers_hall'>\r\n                    </ul>\r\n                </div>\r\n                <div className='send_container'>\r\n                    <textarea ref='user_chat_info'/><span onClick={()=>this.handleSentMeg()}>发送</span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    appendChatInfo(v){\r\n        let dom=d_id('chat_containers_hall');\r\n        let MsgContainer=create_dom('li','',`\r\n            <p class='title'>${v.name}<span>${v.time}</span></p>\r\n            <div class='info'>${v.info}</div>\r\n        `)\r\n        dom.appendChild(MsgContainer);\r\n        d_id('chat_main_box').scrollTop=1000000000;\r\n    }\r\n    handleSentMeg(){\r\n        this.props.dispatch(SentMsg({\r\n            time:(new Date()).getTime(),\r\n            info:this.refs.user_chat_info.value\r\n        }))\r\n    }\r\n}\r\nconst selectState=(state)=>{\r\n    return{\r\n        status:state.HallChat.status,\r\n        flag:state.HallChat.msg.flag,\r\n        msg:state.HallChat.msg.data\r\n    }\r\n}\r\nexport default connect(selectState)(HallChat)\n\n\n// WEBPACK FOOTER //\n// ./src/containers/hall_chat.jsx","var hallChat={},\r\n    hallDispatch='';\r\nexport const InitHallChat=(dispatch)=>{\r\n    hallDispatch=dispatch;\r\n\r\n    hallChat = io.connect('ws://'+location.host+'/hall_chat');\r\n\r\n    hallChat.on('connectedOk',setChatInfo);\r\n    hallChat.on('newMsg',setChatInfo);\r\n    //hallChat.on('recieveMsgOk',setChatInfo);\r\n    return {\r\n        type:''\r\n    }\r\n}\r\n\r\nexport const SentMsg=(msg)=>{\r\n    hallChat.emit('newMsg',msg,(data)=>{\r\n        msg.isSelft=1;\r\n        msg.flag=(new Date()).getTime();\r\n        msg.name=ls('userInfo').name;\r\n        setChatInfo(msg);\r\n    })\r\n    return {\r\n        type:''\r\n    }\r\n}\r\nconst setChatInfo=(msg)=>{\r\n    console.log(msg);\r\n    msg.time=get_date(msg.time);\r\n    hallDispatch({\r\n        type:'hallChat',\r\n        status:1,\r\n        msg:{\r\n            flag:(new Date()).getTime(),\r\n            data:msg\r\n        }\r\n    })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/actions/ac_hall_chat.jsx"],"sourceRoot":""}